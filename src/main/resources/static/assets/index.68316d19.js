var T=Object.defineProperty,M=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var O=(t,a,n)=>a in t?T(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,N=(t,a)=>{for(var n in a||(a={}))_.call(a,n)&&O(t,n,a[n]);if(L)for(var n of L(a))P.call(a,n)&&O(t,n,a[n]);return t},g=(t,a)=>M(t,U(a));import{j as e,a as s,i as H,g as $,s as K,b as J,r as m,u as f,F as z,c as b,L as S,R as q,d as w,N as G,e as V,f as X,h as Y,k as Q,t as W,l as Z,m as ee,P as ae,B as te}from"./vendor.0e8ada69.js";const ne=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}};ne();const se=()=>e("div",{className:"main-footer bg-dark",children:e("div",{className:"container",children:e("div",{className:"row",children:s("p",{className:"col-sm text-info text-end",children:["\xA9",new Date().getFullYear()," SofkaBANK | Banco de Sofkianos para Sofkianos.!"]})})})}),oe={apiKey:"AIzaSyBq3lmLtfMj10kY8Uk7KpKekBcJss4e6tw",authDomain:"banco-98898.firebaseapp.com",projectId:"banco-98898",storageBucket:"banco-98898.appspot.com",messagingSenderId:"1050150306061",appId:"1:1050150306061:web:d022f87d53b236d510f044"},A="LOADING",k="LOADED_SUCCESS",j="LOADED_FAILURE",I={login:"Login_User",logout:"Logout_User"},E="http://localhost:8081/user-bank",F="http://localhost:8081/personas",v=()=>({type:A}),y=()=>({type:j}),i=t=>({type:k,payload:t});function re(t){return async a=>{a(v());try{const o=await(await fetch(`${E}/crear-persona`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({balanceInicial:parseFloat(t)})})).text();a(i({productoCreadoId:o}))}catch{a(y())}}}function le(t,a){return async n=>{n(v());try{const r=await(await fetch(`${E}/depositar`,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({personaId:t,monto:parseFloat(a)})})).text();n(i({depositado:r}))}catch{n(y())}}}function ce(t,a){return async n=>{n(v());try{const r=await(await fetch(`${E}/retirar`,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({personaId:t,monto:parseFloat(a)})})).text();n(i({retirado:r}))}catch{n(y())}}}function ie(t){return async a=>{a(v());try{const o=await(await fetch(`${F}/get-persona/${t}`)).json();a(i({productoConsultado:o}))}catch{a(y())}}}function de(){return async t=>{t(v());try{const n=await(await fetch(`${F}`)).json();t(i({productos:n}))}catch{t(y())}}}H(oe);const B=$(),me=(t,a)=>n=>{J(B,t,a).then(({user:o})=>{n(ue(o.uid))}).catch(o=>{console.log(o)})},ue=t=>({type:I.login,payload:{uid:t}}),he=()=>t=>{K(B).then(a=>{t(pe()),t(i({productos:null})),sessionStorage.clear()}).catch(a=>{console.log(a)})},pe=()=>({type:I.logout}),fe=()=>s("div",{className:"container mt-5",children:[e("div",{className:"d-flex justify-content-center mt-5",children:e("img",{src:"https://res.cloudinary.com/df8qzqymf/image/upload/v1642732097/descarga_mwztk9.png",width:150,alt:"welcome"})}),e("h4",{className:"text-center mt-5",children:"Ha sido Reconocido..!"})]}),R=(t={})=>{const[a,n]=m.exports.useState(t);return[a,({target:l})=>{n(g(N({},a),{[l.name]:l.value}))},()=>{n(t)}]};function be(){const t=f(),[a,n,o]=R({email:"",password:""}),{email:r,password:l}=a;return e(z,{children:e("div",{className:"container mt-2",children:s("form",{className:"w-50 mx-auto",onSubmit:d=>{d.preventDefault(),t(me(r,l)),o()},children:[e("h4",{className:"d-flex justify-content-center text-center text-info my-5",children:e("strong",{children:"ADMINISTRADOR"})}),s("div",{className:"mb-3",children:[e("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Correo"}),e("input",{type:"email",className:"form-control shadow-sm",id:"exampleInputEmail1","aria-describedby":"emailHelp",name:"email",value:r,onChange:n})]}),s("div",{className:"mb-3",children:[e("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Contrase\xF1a"}),e("input",{type:"password",className:"form-control shadow-sm",id:"exampleInputPassword1",name:"password",value:l,onChange:n})]}),e("div",{className:"d-flex align-items-center flex-column mt-5",children:e("button",{type:"submit",className:"btn btn-outline-info",children:"Login"})})]})})})}const Ne=()=>{const t=b(a=>a.auth.uid);return s("div",{className:"offcanvas offcanvas-end",tabIndex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel",children:[s("div",{className:"offcanvas-header",children:[e("h5",{id:"offcanvasRightLabel",children:t?"BIENVENIDO":"LOGIN"}),e("button",{type:"button",className:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),e("div",{className:"offcanvas-body",children:t?e(fe,{}):e(be,{})})]})},ge=({auth:t})=>{const a=f(),n=()=>{a(he())};return e("nav",{className:"navbar navbar-expand-sm navbar-light bg-dark ",children:s("div",{className:"container-fluid",children:[e("span",{className:"navbar-brand text-info",children:e("h5",{children:"SofkaBANK"})}),e("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:e("span",{className:"navbar-toggler-icon"})}),e("div",{className:"collapse navbar-collapse",id:"navbarNav",children:s("ul",{className:"navbar-nav",children:[e("li",{className:"nav-item",children:e(S,{style:{textDecoration:"none"},to:"/",children:e("span",{className:"nav-link active text-light","aria-current":"page",children:"Inicio"})})}),e("li",{className:"nav-item",children:e(S,{style:{textDecoration:"none"},to:"consulta",children:e("span",{className:"nav-link active text-light","aria-current":"page",children:"Consultar"})})}),e("li",{className:"nav-item",children:e(S,{style:{textDecoration:"none"},to:"opera",children:e("span",{className:"nav-link active text-light","aria-current":"page",children:"Operar"})})}),t?s(m.exports.Fragment,{children:[e("li",{className:"nav-item",children:e(S,{style:{textDecoration:"none"},to:"cuentas",children:e("span",{className:"nav-link text-secondary",children:"| Cuentas"})})}),e("li",{className:"nav-item",style:{cursor:"pointer"},children:e("span",{onClick:n,className:"nav-link text-secondary",children:"| Salir"})})]}):e("li",{style:{cursor:"pointer"},className:"nav-item",children:e("span",{"data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight",className:"nav-link text-secondary",tabIndex:"-1","aria-disabled":"true",children:"Administracion"})}),e(Ne,{})]})})]})})},ve=()=>{const t=f(),a=b(u=>u.banco.productoConsultado),[n,o,r]=R({id:""}),{id:l}=n,c=u=>{u.preventDefault(),t(ie(l)),r()},d=()=>{t(i({productoConsultado:null}))};return s("div",{className:"container my-5",children:[s("h1",{className:"d-flex justify-content-center mt-1",children:[" Consulte su ",e("strong",{className:"ms-3 text-info",children:"SALDO"})," "]}),e("div",{className:"d-flex justify-content-center my-4",children:s("form",{className:"w-20 mx-auto border p-4",onSubmit:c,children:[s("div",{className:"mb-3",children:[e("label",{htmlFor:"id",className:"form-label",children:"Identificador de la cuenta:"}),e("input",{type:"text",className:"form-control shadow-sm",id:"id","aria-describedby":"emailHelp",name:"id",value:l,onChange:o})]}),e("div",{className:"d-flex justify-content-center mt-4",children:e("button",{type:"submit",className:"btn btn-small btn-outline-info",children:"CONSULTAR"})})]})}),a&&e("div",{className:"d-flex justify-content-center my-4",children:s("form",{className:"w-20 mx-auto border p-5",children:[s("div",{className:"mb-3",children:[e("label",{htmlFor:"cuentaId",className:"form-label",children:e("strong",{children:"Cuenta N\xB0:"})}),e("input",{type:"text",className:"form-control shadow-sm",id:"cuentaId","aria-describedby":"emailHelp",name:"cuentaId",value:a==null?void 0:a.personaId,disabled:!0})]}),s("div",{className:"mb-3",children:[e("label",{htmlFor:"cuentaBalance",className:"form-label",children:e("strong",{children:"Saldo:"})}),e("input",{type:"number",className:"form-control shadow-sm",id:"cuentaBalance","aria-describedby":"emailHelp",name:"cuentaBalance",value:a==null?void 0:a.balance,disabled:!0})]}),s("div",{className:"mb-3",children:[e("label",{htmlFor:"cuentaEstado",className:"form-label",children:e("strong",{children:"Estado:"})}),e("input",{type:"text",className:"form-control shadow-sm",id:"cuentaEstado","aria-describedby":"emailHelp",name:"cuentaEstado",value:a==null?void 0:a.estado,disabled:!0})]}),e("div",{className:"d-flex justify-content-center mt-5",children:e("button",{onClick:d,className:"btn btn-sm btn-outline-secondary ms-1",children:"Limpiar"})})]})})]})},ye=()=>{const t=b(n=>n.banco.productos),a=f();return m.exports.useEffect(()=>{a(de())},[]),s("div",{className:"container my-5 w-50 mx-auto",children:[e("h1",{className:"d-flex justify-content-center text-center my-5",children:"Cuentas Registradas"}),s("table",{class:"table mb-5",children:[e("thead",{children:s("tr",{children:[e("th",{scope:"col",children:"Numero de cuenta"}),e("th",{scope:"col",children:"Balance"}),e("th",{scope:"col",children:"Estado"})]})}),e("tbody",{children:t==null?void 0:t.map(n=>s("tr",{children:[e("th",{scope:"row",children:n.personaId}),e("td",{children:n.balance}),e("td",{children:n.estado})]}))})]})]})},xe=()=>{const[t,a]=m.exports.useState(!1),n=b(h=>h.banco.productoCreadoId),o=f(),[r,l,c]=R({monto:0}),{monto:d}=r;return s("div",{className:"container my-5",children:[s("h1",{className:"d-flex justify-content-center mt-1",children:[" Bienvenido Sofkiano a ",e("strong",{className:"ms-3 text-info",children:"SofkaBANK"})," "]}),e("div",{className:"d-flex justify-content-center mt-3",children:e("button",{onClick:()=>{o(i({productoCreadoId:null})),a(!0)},className:"btn btn-info shadow-sm text-light",children:e("strong",{children:"CREAR CUENTA"})})}),n&&s("h6",{className:"d-flex justify-content-center text-danger mt-5",children:[" Producto Creado: ",e("strong",{className:"ms-3 text-info",children:n})," "]}),t&&e("div",{className:"d-flex justify-content-center my-5",children:s("form",{className:"w-20 mx-auto border p-3",onSubmit:h=>{h.preventDefault(),o(re(d)),c(),a(!1)},children:[s("div",{className:"mb-3",children:[e("label",{htmlFor:"monto",className:"form-label",children:"Monto Inicial:"}),e("input",{type:"number",className:"form-control shadow-sm",id:"monto","aria-describedby":"emailHelp",name:"monto",value:d,onChange:l})]}),s("div",{className:"d-flex justify-content-center mt-4",children:[e("button",{type:"submit",className:"btn btn-sm btn-outline-info",children:"CREAR"}),e("button",{onClick:()=>{a(!1),c()},className:"btn btn-sm btn-secondary ms-1",children:"Cancelar"})]})]})})]})},Ce=({depositado:t,retirado:a,setDeposito:n,setRetiro:o})=>{const r=f(),l=()=>{r(i({depositado:null,retirado:null})),n(!1),o(!1)};return e("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e("div",{className:"modal-dialog modal-dialog-centered",children:s("div",{className:"modal-content",children:[s("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:t||a?"EXITO":"FALLO"}),e("button",{type:"button",onClick:l,className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e("div",{className:"modal-body",children:(t||a)&&t?e("p",{children:t}):a?e("p",{children:a}):e("p",{children:"No fue posible realizar la operacion, intentelo mas tarde"})}),e("div",{className:"modal-footer",children:e("button",{type:"button",onClick:l,className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cerrar"})})]})})})},Se=()=>{const[t,a]=m.exports.useState(!1),[n,o]=m.exports.useState(!1),r=b(p=>p.banco.depositado),l=b(p=>p.banco.retirado),c=f(),[d,u,x]=R({id:"",monto:""}),{id:C,monto:h}=d;return s("div",{className:"container my-5",children:[s("h1",{className:"d-flex justify-content-center mt-1",children:[" Opere su ",e("strong",{className:"ms-3 text-info",children:"CUENTA"})," "]}),t||n?e("div",{className:"d-flex justify-content-center my-4",children:s("form",{className:"w-20 mx-auto border p-4",onSubmit:t?p=>{p.preventDefault(),c(le(C,h)),x()}:p=>{p.preventDefault(),c(ce(C,h)),x()},children:[e("h5",{className:"d-flex justify-content-center mb-4",children:e("strong",{children:t?"DEPOSITAR":"RETIRAR"})}),s("div",{className:"mb-3",children:[e("label",{htmlFor:"id",className:"form-label",children:"Identificador de la cuenta:"}),e("input",{type:"text",className:"form-control shadow-sm",id:"id","aria-describedby":"emailHelp",name:"id",value:C,onChange:u}),e("label",{htmlFor:"monto",className:"form-label",children:"Monto"}),e("input",{type:"number",className:"form-control shadow-sm",id:"monto","aria-describedby":"emailHelp",name:"monto",value:h,onChange:u})]}),s("div",{className:"d-flex justify-content-center mt-4",children:[e("button",{type:"submit",className:"btn btn-sm shadow-sm btn-outline-info","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:t?"DEPOSITAR":"RETIRAR"}),e("button",{onClick:()=>{o(!1),a(!1),x()},className:"btn btn-sm btn-secondary ms-1",children:"Cancelar"})]})]})}):s("div",{className:"d-flex justify-content-center mt-3",children:[e("button",{onClick:()=>{a(!0),o(!1)},className:"btn btn-info shadow-sm text-light",children:e("strong",{children:"Depositar"})}),e("button",{onClick:()=>{o(!0),a(!1)},className:"btn btn-outline-info shadow-sm ms-1",children:e("strong",{children:"Retirar"})})]}),e(Ce,{depositado:r,retirado:l,setDeposito:a,setRetiro:o})]})};function we(){const[t,a]=m.exports.useState(!1),n=b(o=>o.auth.uid);return m.exports.useEffect(()=>{a(!!n)},[n]),s("div",{className:"page-container",children:[e(ge,{auth:t}),e("div",{className:"content-wrap",children:s(q,{children:[e(w,{path:"/",exact:!0,element:e(xe,{})}),e(w,{path:"consulta",exact:!0,element:e(ve,{})}),e(w,{path:"opera",exact:!0,element:e(Se,{})}),e(w,{path:"cuentas",exact:!0,element:t?e(ye,{}):e(G,{to:"/"})})]})}),e(se,{})]})}const Ie=()=>{const t=sessionStorage.getItem("login");if(t!==null)return JSON.parse(t)},Re=t=>{const a=JSON.stringify(t);sessionStorage.setItem("login",a)},Ee={loading:!1,hasErrors:!1,productoCreadoId:null,depositado:null,retirado:null,productoConsultado:null,productos:null};function De(t=Ee,a){switch(a.type){case A:return g(N({},t),{loading:!0});case k:return g(N(N({},t),a.payload),{loading:!1,hasErrors:!1});case j:return g(N({},t),{loading:!1,hasErrors:!0});default:return t}}const Le=(t={},a)=>{switch(a.type){case I.login:return{uid:a.payload.uid};case I.logout:return{};default:return t}},Oe=V({banco:De,auth:Le}),Ae=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Q,ke=Ie(),D=X(Oe,ke,Ae(Y(W)));D.subscribe(()=>{Re({auth:D.getState().auth})});Z.render(e(ee.StrictMode,{children:e(ae,{store:D,children:e(te,{children:e(we,{})})})}),document.getElementById("root"));
